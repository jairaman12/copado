<!-- 
    Apttus Contract Management
    LightningAgreementActions
     
    @2017-2018 Apttus Inc. All rights reserved.

 -->
<apex:page standardController="Apttus__APTS_Agreement__c"
           extensions="Apttus.LightningAgreementActionsController" docType="html-5.0">
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <apex:includeLightning />
        <apex:slds />        
        <head>
            <apex:stylesheet value="{!URLFOR($Resource.Apttus__LightningResource,'css/editpage-styling.css')}"/>
            <style>
                .actionbox{
                    width:100px;
                }
                .actionTitle{
                    white-space: wrap;
                }
                a:hover {
                    text-decoration:none!important;
                }
                html{
                    background:white!important;
                }                
                html body.sfdcBody{
                    padding: 0px 0px 0px 0px!important; 
                    background: white!important; 
                }
                .flexipageCard {
                    padding-top: 0px; 
                    padding-bottom: 0px; 
                }
                .slds-scope .slds-col, .slds-scope [class*=slds-col_padded], .slds-scope [class*=slds-col--padded]{
                    flex:0 1 auto;
                }
                
            </style>
            
        </head>
        <body>
            <apex:form >
                <!-- Required fields for Action buttons from Agreement -->
               
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Amend__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Renew__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Execute__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Expire__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Terminate__c}" rendered="false"/>
                
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_View_Final_Contract__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Generate_Supporting_Document__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Regenerate_Agreement__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_View_Draft_Contract__c}" rendered="false"/>
                
                
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Send_To_Other_Party_For_Review__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Send_To_Other_Party_For_Signatures__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__Import_Offline_Document__c}" rendered="false"/>
                
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Cancel_Request__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Submit_Request__c}" rendered="false"/>
                
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Generate_Protected_Agreement__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Generate_Unprotected_Agreement__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Send_To_Third_Party__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Submit_For_Changes__c}" rendered="false"/>
                <apex:outputText value="{!Apttus__APTS_Agreement__c.Apttus__FF_Return_To_Requestor__c}" rendered="false"/>
                
                <div style="border: 1px solid lightgray; padding: 0px; margin-bottom: 0px; border-radius: 0px;">
                                         
                    <div class="slds-grid slds-wrap  slds-has-inline-block-links_space "  >
                        
                        <c:AgreementActionLink id="id-generate" 
                                               name="Test"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__generate}" 
                                               image="images/actions/generate.png"
                                               onaction="{!onGenerateDocument}" 
                                               ParamID="{!agreementSO.id}"
                                               visible="{!canGenerate}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-generatesupporting" 
                                               name="generatesupporting"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__generatesupportingdocument}" 
                                               image="images/actions/generatesupporting.png"
                                               onaction="{!onGenerateSupportingDocument}" 
                                               visible="{!canGenerateSupportingDocument}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-Regenerate" 
                                               name="Regenerate"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__regenerate}" 
                                               image="images/actions/regenerate.png"
                                               onaction="{!onReGenerateDocument}" 
                                               visible="{!canRegenerate}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-Preview" 
                                               name="Preview"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__preview}" 
                                               image="images/actions/preview.png"
                                               onaction="{!onPreviewDocument}" 
                                               visible="{!canPreview}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-ReviewOfflineDocument" 
                                               name="ReviewOfflineDocument"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__reviewofflinedocument}" 
                                               image="images/actions/reviewofflinedocument.png"
                                               onaction="{!onReviewOfflineDocument}" 
                                               visible="{!canReviewOfflineDocument}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-Amend" 
                                               name="Amend"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__amend}" 
                                               image="images/actions/amend.png"
                                               onaction="{!onAmend}" 
                                               visible="{!canAmend}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-Terminate" 
                                               name="Terminate"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__terminate}" 
                                               image="images/actions/terminate.png"
                                               onaction="{!onTerminate}" 
                                               visible="{!canTerminate}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>                            
                        <c:AgreementActionLink id="id-Activate" 
                                               name="Activate"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__activate}" 
                                               image="images/actions/activate.png"
                                               onaction="{!onActivate}" 
                                               visible="{!canActivate}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>                           
                       <c:AgreementActionLink id="id-Expire" 
                                               name="Expire"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__expire}" 
                                               image="images/actions/expire.png"
                                               onaction="{!onExpire}" 
                                               visible="{!canExpire}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-Renew" 
                                               name="Renew"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__renew}" 
                                               image="images/actions/renew.png"
                                               onaction="{!onRenew}" 
                                               visible="{!canRenew}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink> 
                        <c:AgreementActionLink id="id-CancelRequest" 
                                               name="CancelRequest"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__cancel}" 
                                               image="images/actions/cancelrequest.png"
                                               onaction="{!onCancelRequest}" 
                                               visible="{!canCancelRequest}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>                           
                        <c:AgreementActionLink id="id-SubmitRequest" 
                                               name="SubmitRequest"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__submitrequest}" 
                                               image="images/actions/submitrequest.png"
                                               onaction="{!onSubmitRequest}" 
                                               visible="{!canSubmitRequest}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>                           
                        <c:AgreementActionLink id="id-SendforEsignature" 
                                               name="SendforEsignature"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__sendforsignatures}" 
                                               image="images/actions/sendforesignature.png"
                                               onaction="{!onSendforsignature}" 
                                               visible="{!canSendForSignature}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>                            
                        <c:AgreementActionLink id="id-sendfordocusign" 
                                               name="sendfordocusign"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__sendfordocusign}" 
                                               image="images/actions/sendfordocusign.png"
                                               onaction="{!onSendforDocusign}" 
                                               visible="{!canSendforDocusign}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-checkdocusignstatus" 
                                               name="checkdocusignstatus"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__checkdocusignstatus}" 
                                               image="images/actions/docusigncheckstatus.png"
                                               onaction="{!onCheckDocusignStatus}" 
                                               visible="{!canCheckDocusignStatus}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-sendforechosign" 
                                               name="sendforechosign"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__sendforechosign}" 
                                               image="images/actions/sendforechosign.png"
                                               onaction="{!onSendForEchosign}" 
                                               visible="{!canSendForEchosign}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-SendForReview" 
                                               name="SendForReview"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__sendforreview}" 
                                               image="images/actions/sendforreview.png"
                                               onaction="{!onSendforReview}" 
                                               visible="{!canSendForReview}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>
                        <c:AgreementActionLink id="id-importofflinedocument" 
                                               name="importofflinedocument"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!$Label.apttus__importofflinedocument}" 
                                               image="images/actions/ImportOfflineDocument.png"
                                               onaction="{!onImportOfflineDocument}" 
                                               visible="{!canImportOfflineDocument}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!redirectURL}">
                        </c:AgreementActionLink>    
                        
                        <!-- iterate the wrapper list to display custom Formala Fields -->
                        <apex:repeat value="{!lstAgreementCustom}" var="AgreementCustom" rendered="{!lstAgreementCustom.size > 0}">                          
                            <c:AgreementActionLink id="id-custom" 
                                               name="custom_{!AgreementCustom.fieldValue}"
                                               styleClass="slds-col actionbox slds-text-align--center"
                                               displayname="{!AgreementCustom.displayValue}" 
                                               image="{!IF(OR(AgreementCustom.imagesrc == '', AgreementCustom.imagesrc == null), URLFOR($Resource.Apttus__LightningResource, 'images/actions/default.png'), $Site.prefix + AgreementCustom.imagesrc)}"
                                               ParamID="{!agreementSO.id}"
                                               redirectPage="{!$Site.prefix}{!AgreementCustom.urlValue}">                                               
                           </c:AgreementActionLink>
                        </apex:repeat>     
                    </div>
                    
                </div>
            </apex:form>
        </body>
    </html>
</apex:page>